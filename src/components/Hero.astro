---
import { Image } from 'astro:assets';
import Projects from './Projects.astro';
const HERO_IMAGES = ['Hero-1.webp', 'Hero-2.webp', 'Hero-3.webp', 'Hero-1.webp'];
---

<section id="hero" class="user-cloud w-full h-48 sm:h-96 md:h-[680px] relative">
  <div class="brands-carousel pl-0 h-full overflow-hidden relative">
    {
      HERO_IMAGES.map((heroImg, index) => (
        <picture class="object-cover w-full ">
          <img class="h-full w-full" src={`/images/${heroImg}`} alt="A bird." width={700} height={700} />
        </picture>
      ))
    }
  </div>
</section>

<style>
  .brands-carousel > picture {
    animation: carousel 15s linear infinite;
    transform: translateX(100%);
  }

  .brands-carousel > picture:nth-child(1) {
    animation-name: first-picture, carousel;
    animation-duration: 15s;
    animation-iteration-count: 1, infinite;
    animation-delay: 0s, 15s;
    transform: translateX(0%);
  }
  .brands-carousel > picture:nth-child(2) {
    animation-delay: Calc(15s * 0.33);
  }
  .brands-carousel > picture:nth-child(3) {
    animation-delay: Calc(15s * 0.66);
  }

  @keyframes first-picture {
    0% {
      transform: translateX(0%);
    }
    7.5%,
    33% {
      transform: translateX(0);
    }
    40.5%,
    100% {
      transform: translateX(-100%);
    }
  }

  @keyframes carousel {
    0% {
      transform: translateX(100%);
    }
    7.5%,
    33% {
      transform: translateX(0);
    }
    40.5%,
    100% {
      transform: translateX(-100%);
    }
  }

  @keyframes first-picture-responsive {
    0% {
      transform: translateX(0%);
    }
    5.5%,
    25% {
      transform: translateX(0);
    }
    30.5%,
    100% {
      transform: translateX(-100%);
    }
  }

  @keyframes carousel-responsive {
    0% {
      transform: translateX(100%);
    }
    5.5%,
    25% {
      transform: translateX(0);
    }
    30.5%,
    100% {
      transform: translateX(-100%);
    }
  }

  @media screen and (max-width: 766px) {
    .brands-container {
      max-width: 200px;
    }
    .brands-carousel > picture {
      animation: carousel-responsive 20s linear infinite;
    }

    .brands-carousel > picture:nth-child(1) {
      animation-name: first-picture-responsive, carousel-responsive;
      animation-duration: 20s;
      animation-iteration-count: 1, infinite;
      animation-delay: 0s, 20s;
    }

    .brands-carousel > picture:nth-child(2) {
      animation-delay: Calc(20s * 0.25);
    }
    .brands-carousel > picture:nth-child(3) {
      animation-delay: Calc(20s * 0.5);
    }
    .brands-carousel > picture:nth-child(4) {
      animation-delay: Calc(20s * 0.75);
      display: block;
    }
  }
</style>
